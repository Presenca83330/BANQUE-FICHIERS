# CODES PREPARATOIRES - FORMULAIRE GESTION / TABLE AGENCE INDEPENDANTE

    - Dossier  : src/components/ADMIN-PRESENCA/9-CreationComptesUtilisateurs/1-Formulaires/6.AgenceIndependante
---
---
---
# CODES PREPARATOIRES -  
## A CONCEVOIR DANS LE RESPECT - DES DOCUMENTS STRATEGIQUES
    - public/1. Documents Stratégiques/01. Présentation LeadGenAi.md
    - public/1. Documents Stratégiques/02. Présentation Structure LeadGenAi.md
    - public/1. Documents Stratégiques/03. Logique Organisations.md
    - public/1. Documents Stratégiques/04. Relations Business entre Tables.md
    - public/1. Documents Stratégiques/05. Relations Users Utilisateurs.md
    - public/1. Documents Stratégiques/06. Référence des Hooks Stratégiques.md
    - public/1. Documents Stratégiques/07.1. Stratégie - Gestion des informations partagées entre Réseau et Réseau Direction.md
    - public/1. Documents Stratégiques/08. Gestion du Menu Gauche.md
    - public/1. Documents Stratégiques/09. Structure - Organisation | Client_id.md
    - public/1. Documents Stratégiques/10. Structure des Tables de Connexion & Règles Collaborateurs.md

## A CONCEVOIR DANS LE RESPECT - DES DIRECTIVES
    - 

## A CONCEVOIR DANS LE RESPECT- DES TABLES
    - A consulter et vérifier dans Supabase
---
---
# Architecture Complète
## Structure des Dossiers
```
src/components/ADMIN-PRESENCA/9-CreationComptesUtilisateurs/1-Formulaires/1.Reseau/
├──           # Composant principal du formulaire

src/components/HOOKS-STRATEGIQUE/6.HOOKS-GestionCompteAdminPresenca/1.Reseau/hooks/
├──           
├──                    
└── types.ts                      

src/components/HOOKS-STRATEGIQUE/6.HOOKS-GestionCompteAdminPresenca/1.Reseau/components
├──           

supabase/functions/
└── 
    └── index.ts                   
└── 
    └── index.ts          
└── 
    └── index.ts          
└── 
    └── index.ts          

supabase/functions/_shared/
└── cors.ts                        
```
---
---
---
---
# ÉTAPE INITIALE IMPÉRATIVE : Tables Reference
**Fichier :** `src/components/ADMIN-PRESENCA/9-CreationComptesUtilisateurs/1-Formulaires/1.Reseau/.TablesReferenceReseau.ts`

---
---
# ÉTAPE 1 : Types TypeScript
**Fichier :** `src/components/HOOKS-STRATEGIQUE/6.HOOKS-GestionCompteAdminPresenca/1.Reseau/hooks/types.ts`
```typescript

```
---
---
# ÉTAPE 2 : MIGRATION SQL 1 - Fonctions + Trigger
```typescript
get_user_reseau_id() + sync_reseau_to_direction() + trigger
```
---
---
# ÉTAPE 3 : Edge Function - Liste (Selector)
**Fichier :** `supabase/functions/gestion-reseau-admin/index.ts`
```typescript

```
---
---
# ÉTAPE 4 : Composant Selector
**Fichier :** `src/components/HOOKS-STRATEGIQUE/6.HOOKS-GestionCompteAdminPresenca/1.Reseau/components/ReseauSelector.tsx`
```typescript

```
---
---
# ÉTAPE 5 : Edge Function - Données Complètes
**Fichier :** `supabase/functions/gestion-reseau-admin-donnees/index.ts`
```typescript

```
---
---
# ÉTAPE 6 : Hook - FormData
**Fichier :** `src/components/HOOKS-STRATEGIQUE/6.HOOKS-GestionCompteAdminPresenca/1.Reseau/hooks/useReseauFormData.ts`
```typescript

```
---
---
# ÉTAPE 7 : Edge Function - Update 
**Fichier :** `supabase/functions/gestion-reseau-admin-update/index.ts`
```typescript

```
---
---
# ÉTAPE 8 : Hook - Integrations
**Fichier :** `src/components/HOOKS-STRATEGIQUE/6.HOOKS-GestionCompteAdminPresenca/1.Reseau/hooks/useReseauIntegrations.ts`
```typescript

```
---
---
# ÉTAPE 9 : MIGRATION SQL 2 - RLS Storage
```typescript
Policy "RLS reseau files access" sur storage.objects
```
---
---
# ÉTAPE 10 : Edge Function - Fichiers (Storage)
**Fichier** : `supabase/functions/gestion-reseau-admin-fichiers/index.ts`
```typescript

```
---
---
# ÉTAPE 11 : Composant Formulaire Principal
**Fichier :** `src/components/ADMIN-PRESENCA/9-CreationComptesUtilisateurs/1-Formulaires/1.Reseau/3.FormReseauGestion.tsx`
```typescript

```
---
---
# ÉTAPE 12 : Configuration finale
**Fichier :** `supabase/config.toml`
```typescript

```
---
---


