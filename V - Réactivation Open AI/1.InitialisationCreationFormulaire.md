## 1. Lancement
Bonjour 
Tu es un expert en Ia no code, intégration et développement Lovable et Supabse.
Tu maitrises parfaitement les environnement Saas, les meilleures logiciels et ia 
Tu es un expert attentif, rigoureux, méticuleux

- Ne pose pas de questions, pour l'instant sur ce que nous allons faire ensemble afin de ne pas t'égarer
- En fin de message, prends l'habitude de ne pas reposer de nouvelle question, agis comme un expert rigoureux 
- Je veux d abord que tu lises les ressources que je vais de donner dans les prochains chats
- Il va y avoir plusieurs messages successifs
- Je souhaite que tu lises et analyses les fichiers dans l'ordre que je te donnerai pour ne pas mélanger les informations
- ton travail sera de les lire attentivement.
- Attention. Les fichiers sont dans des zip, tu as mon accord pour les décompresser, les lire et les analyser
- Je n'ai pas besoin que tu fasses des synthèses de ces docs, je les connais
- Je veux simplement que tu t'imprégnes de leur contenus
- C est pour ton apprentissage de connaissances
- Je veux compter sur toi comme un vrai expert à mes côtés et j'ai besoin que tu maîtrises sur le bout des doigts mon environnement.
- Es-tu pret à lire et analyser la premiere source de documents que je vais te donner dans le message suivant.
- Interdiction totale et absolue de commencer à lire les documents en ressources
- Attends mon message suivant
----
## 2. Docs Stratégiques
Parfait
- En 1er, je te demande de bien comprendre mon application et sa stratégie
  - Lis Tous les fichiers ZIP du dossier en ressources
  - /mnt/data/Documents-Stratégiques-LeadGenAI.AdBuilder.zip
  - Tu as mon accord pour décompresser le zip et commence immédiatement la lecture et l'analyse des documents contenus
- Il y  dedans des ressources essentielles à connaître
  - ->01. Présentation LeadGenAi.md
  - ->02. Présentation Structure LeadGenAi.md
  - ->03. Logique Organisations.md
  - ->04. Relations Business entre Tables.md
  - ->05. Relations Users Utilisateurs.md
  - ->06. Référence des Hooks Stratégiques.md
  - ->07.1. FormCreationReseau - Gestion Informations Partagées entre Réseau et Réseau Direction.md
  - ->07.2. FormGestionReseau - Gestion Informations Partagées entre Réseau et Réseau Direction.md
  - ->08. Gestion du Menu Gauche.md
  - ->09. Structure - Organisation | Client_id.md
  - ->10. Structure des Tables de Connexion & Règles Collaborateurs.md
- Quand tu auras fini de lire je te donnerai une liste d autres ressources à lire
---
## 3. Tables
Ensuite, je te demande décompresser ces zip et de lire et analyser les tables de mon application et de lire tous les fichiers : 
- /mnt/data/1.Tables.Stratégiques.zip
- /mnt/data/2.Tables.Clients.zip
- /mnt/data/3.Tables.Connexion.zip
- /mnt/data/4.Tables.Historique.zip
Quand tu auras fini de lire et d'analyser je te donnerai une liste d autres ressources à lire
---
## 4. Hooks
Maintenant, je te demande décompresser ces zip, lis et analyse tous nos HOOKS
- /mnt/data/v1.HOOK-useAuth.zip
- /mnt/data/2.HOOK-useCurrentUser.zip
- /mnt/data/3.HOOK-useMultiTenant.zip
- /mnt/data/v4.HOOK-useSupabaseOperations.zip

Ensuite, je te demande décompresser ces zip, lis le dossier :
- /mnt/data/2.INTEGRATION SUPABASE.zip
- Quand tu auras fini de lire et analyser, je te donnerai une liste d'autres ressources à lire
---
## 5. Authentification
Parfait 
- On a travaillé sur un espace qui va me permettre en tant qu'administrateur admin_presenca de créer des tables et de les mettre à jour
- Nous avons travaillé sur un formulaire pour la table reseau et la table agence indépendante qui sont les fichiers stratégiques au niveau des clients
- Je développerai les autres après
- Analyse les ici, il y a les fichiers sources et les explications sont basées à partir du formulaire reseau
  - /mnt/data/FORM-RESEAU-CREATION-GESTION-Expli-Tables-Fichiers.zip
  - /mnt/data/FORM-AGENCE-INDEPENDANTE-Fichiers-Codes-Tables.zip
- Quand tu auras fini de lire et analyser, je te donnerai une liste d'autres ressources à lire
---
---
## 4/ Migration LocalStorage -> Supabase
- Maintenant que les process d'authentification et de création de tables sont en place
- Je souhaite reprendre le travail sur mon application
  - Lors du travail préparatoire MVP, j'ai travaillé en localstorage pour paramétrer mes api avec Open ai et préparer tous les codes
  - Maintenant je veux travailler sur mon application et mes fonctions afin de les sauvegarder dans Supabase

### Mon Objectif global
 - Créer une architecture SaaS multi-tenant complète permettant
   - à chaque utilisateur, (réseau, réseau direction, réseau agence, réseau agence responsable, réseau agence collaborateur, agence indépendante, agence indépendante responsable, agence indépendante collaborateur)
   - d’accéder à leur espace et tout particulièrement leur espace de création d’annonces en 5 étapes relié à OpenAI,
   - avec gestion sécurisée des données via Supabase.
   - Concrètement dans mon objectif, je souhaite mettre en place la structre avec Supabse pour que lorsqu'un utilisateur se connecte (reseau, reseau direction, agence independante etc)
   - Il puisse travailler sur son espace
     - pour créer des annonces via mon process en 5 étapes (etape1/2/3/4/5/5animation)
     - pour envoyer les informations vers open ai
     - qui restituera les données pour être utilisée dans etape6communication
     - et à partir de là, l'utilisateur pourra choisir les fonctions qu'il souhaite (annonce site internet, outils seo, emailing, sms etc...)

### Structure multi-tenant Supabase
- Chaque entité dispose d’un espace de travail isolé et sécurisé, basé sur son organisation_id ou client_id.
- La visibilité hiérarchique est contrôlée par admin_presenca, selon la logique :
  - Pour les structures Réseaux
    - reseau et reseau_direction -> accèdent à leur espace création (/accueil-leadgenai) et accèdent uniquement leurs projets (reseau et reseau_direction)
    - reseau_agence et reseau_agence_responsable -> accèdent à leur espace création (/accueil-leadgenai) et accèdent aux projets (reseau_agence, reseau_agence_responsable, reseau_agence_collaborateur)
    - reseau_agence_collaborateur -> accède à son espace création (/accueil-leadgenai) et accède uniquement à ses projets (reseau_agence_collaborateur)
  - Pour les structures Agences Indépendantes
    - agence_independante et agence_independante_responsable -> accèdent à leur espace création (/accueil-leadgenai) et accèdent aux projets (agence_independante, agence_independante_responsable et agence_independante_collaborateur)
    - agence_independante__collaborateur -> accède à son espace création (/accueil-leadgenai) et accède uniquement à ses projets (agence_independante__collaborateur)
  - Cette structure repose sur :
    - Les tables : organisations, users, utilisateurs, reseau, reseau_direction, reseau_agence, reseau_agence_responsable, reseau_agence_collaborateur, agence_independante, agence_independante_responsable, agence_independante_collaborateur
    - Les RLS (Row Level Security) basées sur organisation_id
    - Des policies Supabase adaptées à chaque rôle utilisateur

### Flux utilisateur global
- Connexion / Authentification
  - Authentification via Supabase (email / mot de passe)
  - Récupération du rôle (reseau, reseau direction, reseau agence, collaborateur etc)
    - Chargement du contexte utilisateur avec useCurrentUser()
    - Stockage du contexte global (organisation, rôle, id)
- Accès à l’espace personnel
  - Redirection automatique selon le rôle :
    - RESEAU-ESPACE
    - CLIENT-ESPACE
    - COLLABORATEUR-ESPACE
    - Chaque espace charge les données propres à son organisation_id et ses projets en cours.

- POur permettre une migration parfaites localstorage vers supabase
  - J'ai souhaité avoir une vision complète et exhaustive de tous les process, champs, fonctions, hooks utilisés, l'utilisation des boutons, de tous les codes localstorage
  - Tout d'abord, Analyse tous les fichiers de mon application pour bien comprendre les fichiers
    - /mnt/data/LOVABLE-LEADGENAI-ADBUILDER.zip
  
- Quand tu auras fini de lire et analyser, je te donnerai une liste d'autres ressources à lire
---
## Préparation de la migration
  - Ensuite, tu vas étudier tous mes documents d'étude
Phase 1
  - J'ai analysé tous les process des étapes 1 à 5animation
    - Dans ces étapes, l'utilisateur réunit des informations qui vont être adressées à open ia en vue de générer des fonctions qui seront utilisées par etape6communication
    - /mnt/data/n1_Etape1to5_Etape1.md
    - /mnt/data/n2_Etape1to5_Etape2.md
    - /mnt/data/n3_Etape1to5_Etape3.md
    - /mnt/data/n4_Etape1to5_Etape4.md
    - /mnt/data/n5_Etape1to5_Etape5.md
    - /mnt/data/n6_Etape1to5_Etape5animation.md
    - /mnt/data/n7_Etape1to5_Bilan.md
    - /mnt/data/n8_Etape1to5_ProcessEnvoiInfosOpenAI.md
Phase 2
  -  J'ai ensuite analysé tous les process et des canaux utilisable à partir de etape6communication lorsque les infos reviennent de OPen ai
  -  /mnt/data/nn1_etape6_ProcessRecuperationOpenAI.md
  -  /mnt/data/nn2_etape6_SiteInternetAnnonces.md
  - /mnt/data/nn3_etape6_SiteInternetOutilsSeo.md
  - /mnt/data/nn4_etape6_PortailsImmobiliers.md
  - /mnt/data/nn5_etape6_CréerEmailingCampagneNewsletter.md
  - /mnt/data/nn6_etape6_EnvoyerCampagneSMS.md
  - /mnt/data/nn7_etape6_CréerLandingPage.md
  - /mnt/data/nn8_etape6_DiffuserGoogleMB.md
  - /mnt/data/nn9_etape6_DiffuserReseaux.md
Phase 3
- J'ai enfin posé quelques questions à l'IA Lovable, c est ici
  - /mnt/data/nnn1-QuestionsPréalables.md

- Lorsque tu auras terminé cette analyse, tu connaitras parfaitement mon application et le travail qui nous attend

---









